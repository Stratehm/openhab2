<div>
    <div class="modal-header">
        <h3 class="modal-title">Create firmware</h3>
    </div>
    <div class="modal-body" file-drop-zone="firmwareFile">
        <form name="firmwareForm">
            <div class="form-group" ng-class="{'has-error' : firmwareForm.firmwareId.$invalid}">
                <label>Firmware ID</label> 
                <input type="text" name="firmwareId" ng-model='firmware.firmwareIdHex' class="form-control" ng-pattern="/^$|^[a-fA-F0-9]{16}$/" already-defined-firmware-id-validator>
                <p class="help-block" ng-show="!firmwareForm.firmwareId.$error.alreadyDefinedFirmwareIdValidator">Strictly 16 Hexa-Decimal characters. Will be generated if empty.</p>
                <p class="help-block" ng-show="firmwareForm.firmwareId.$error.alreadyDefinedFirmwareIdValidator">Firmware ID already exists.</p>
            </div>
            <div class="form-group" ng-class="{'has-error' : firmwareForm.firmwareName.$invalid}">
                <label>Firmware Name</label> 
                <input type="text" name="firmwareName" ng-model='firmware.firmwareName' class="form-control" ng-pattern="/^[a-zA-Z0-9\-\._ ]{1,16}$/" required>
                <p class="help-block">Up to 16 alpha-numeric characters (-._ and spaces are allowed)</p>
            </div>
            <div class="form-group" ng-class="{'has-error' : firmwareForm.firmwareVersion.$invalid}">
                <label>Firmware Version</label> 
                <input type="number" name="firmwareVersion" ng-model='firmware.firmwareVersion' class="form-control" required min="1" max ="65535">
            </div>
            <div class="form-group">
                <label>Firmware Description</label> 
                <textarea name="firmwareDescription" ng-model='firmware.firmwareDescription' class="form-control" placeholder="Description"></textarea>
            </div>
            <div class="form-group" ng-class="{'has-error' : firmwareForm.compatibleModels.$invalid}">
                <label>Compatible Models</label> 
                <input type="text" name="compatibleModels" ng-list="," ng-model='firmware.firmwareCompatibleModels' class="form-control"
                    ng-pattern="/^([a-zA-Z0-9\-\._ ]{0,16})$|(^([a-zA-Z0-9\-\._ ]{1,16})((,[a-zA-Z0-9\-\._ ]{1,16})*)$)/" placeholder="Compatible models (comma separated). All if empty.">
                <p class="help-block">Comma separated list. If empty, compatible with all models. Each model name allows up to 16 alpha-numeric characters (-._ and spaces are allowed)</p>
            </div>
            <div class="form-group" ng-class="{'has-error' : firmwareForm.filename.$invalid}">
                <label>Firmware file</label>
                <div class="input-group">
                    <span class="input-group-btn"> <span class="btn btn-primary btn-file">Browseâ€¦ <input
                            type="file" file-model="firmwareFile" id="firmwareFileInput">
                    </span>
                    </span> <input type="text" readonly class="form-control" name="filename" ng-model="firmwareFile.name" ng-click="browseFile()" required> <span
                        class="input-group-btn"> <span class="btn btn-default" ng-click="firmwareFile = null">Clear</span>
                    </span>
                </div>
                <p class="help-block">iHex or binary file.</p>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-disabled="firmwareForm.$invalid" ng-click="ok()">OK</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
    </div>
</div>